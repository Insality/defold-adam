Wannta create fsm for defold, so. It should be like playmaker for Unity (technically)
For example, work name is DefoldMaker

So:

All available commands should be described with single line
On enter state should run all commands, attached to them
Transitions should not have callbacks, just switching states
FSM should have variables and ability to control from external space (like, entity health)
Ability to move data to JSON? What part of data can be described as data?
Is it possible to fnd online visual editor for states at least? With JSON export
FSM should be described as easy as possible
Some actions can be triggered in any time. So here is should be ability to bind/unbind stuff. State joined - bind conditions (event, value cond., trigger?), State leaved - unbind it
Some actions can be run once, per frame (translate?). per second

FSM we will use: https://github.com/unindented/lua-fsm/blob/master/src/fsm.lua
Think about Eva integration, since we have already a lot of ready API
Think about Tiled integrations
Think about Eva Events instead FSM, it can be more useful (if it will be as part of Eva module)

FSM shoulbe be possible to use as script, gui_script and lua module
Script and gui_script have additional commands to control entity
Split commands in separate namespaces, like dmaker.gui/go/timer/operators?



What actions can be?

Animations:
	any go/gui animate for any param (fire another event at end)
	play flipbook/spine
	animation control (pause/slow/fast)

Sys:
	Quit/Reboot? (See eva.game)

Timer:
	only delay?
	
Operators:
	check or do something with any variables
	vmath stuff
	math stuff

Arrays:
	check or do something with array variable

Entities:
	spawn something
	delete something

Other:
	msg post
	sound play
	print
	debug traceback?


Camera:
	how we can work with camera?

Physics:
	We should have triggers for entities?
	Add forces? Idk, never used physics before

GUI:
	almost all gui ref? what it can be more useful?

Network? - I rarely use HTTP, so not by me



How it can be used? for example bossfight start?

we should describe one state with several actions


Somehow we trigger FSM from "initial state" to "prepare for battle" state

PrepareForBattle Event:
	- dmaker.sound.play("battle_start")
	- dmaker.camera.center_to("go_id", 2)
	- dmaker.animation.play_flipbook_self("battle_start", "on_next_prepare")

// on_next_prepate will transition to other FSM state
PrepareForBattleLamp1 Event:
	- dmaker.animation.play_flipbook("firelamp1")
	- dmaker.sound.play("firelight")
	- dmaker.time.delay(1, "on_lamp_next")

PrepareForBattleLamp2 Event:
	- dmaker.animation.play_flipbook("firelamp2")
	- dmaker.sound.play("firelight")
	- dmaker.time.delay(1, "on_lamp_next")

PrepareForBattleLamp3 Event:
	- dmaker.animation.play_flipbook("firelamp3")
	- dmaker.sound.play("firelight")
	- dmaker.time.delay(1, "start_battle")

StartBattle Event:
	- dmaker.sound.play("battle")
	- dmaker.msg.post("path-gui?", "appear_boss_gui", "params?")
	- dmaker.event("idle")

IdleBoss Event:
	- dmaker.animation.play_flipbook_self("idle")
	- dmaker.timer.delay(0.5, "make_action")

BossChooseAction Event:
	- dmaker.operation.random(1, 3, "rndvalue")
	- dmaker.math.eq("rndvalue", 1, "action_1")
	- dmaker.math.eq("rndvalue", 2, "action_2")
	- dmaker.math.eq("rndvalue", 3, "action_3")

BossAction1 Event:
	- dmaker.animation.play_flipbook("attack1")
	- dmaker.go.spawn("spike1", "pos1?")
	-- etc, spawn spikes with delay

How I should it describe in code?
How I should debug this?

fsm.events.BossChooseAction:bind(dmaker.*)
fsm.events.BossChooseAction:bind(dmaker.*)
fsm.events.BossChooseAction:bind(dmaker.*)

or

fsm.events.BossChooseAction(
	dmaker.*,
	dmaker.*,
	dmaker.*
)
